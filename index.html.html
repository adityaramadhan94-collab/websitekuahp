<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Angket Prioritas Kompetensi</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      line-height: 1.6;
      padding: 10px;
    }
    .judul-bagian {
      font-weight: bold;
      font-size: 20px;
      margin-bottom: 10px;
    }
    .petunjuk {
      background: #f5f5f5;
      padding: 10px;
      border-left: 4px solid #333;
      margin-bottom: 20px;
    }
    .dimensi {
      margin-bottom: 18px;
    }
    .dimensi h4 {
      margin-bottom: 6px;
      font-size: 16px;
    }
    .subdimensi label {
      display: block;
      margin-left: 10px;
    }
    button {
      margin-top: 15px;
      padding: 8px 14px;
      font-size: 14px;
    }
    label {
      display: flex;
      align-items: center;
      margin-bottom: 8px;
    }
    label input[type="radio"] {
      margin-right: 6px;
    }

 .radio-label {
  display: flex;          /* agar radio button dan teks sejajar */
  align-items: center;    /* vertikal center */
  margin-bottom: 8px;     /* jarak antar opsi */
  cursor: pointer;        /* pointer saat hover */
}

.radio-label input[type="radio"] {
  margin-right: 6px;      /* jarak antara radio dan teks */
}

.radio-label span {
  display: inline-block;  /* memastikan teks muncul di samping radio */
}

  </style>
</head>
<body>

<h7>Angket Penentuan Prioritas Kompetensi Critical Digital Literacy (CDL) untuk Calon Guru Vokasi</h7>
<h2>Pengantar Angket</h2>
<p>
Penelitian ini bertujuan untuk menentukan prioritas dimensi Critical Digital Literacy (CDL) yang paling penting untuk dikuasai oleh calon guru vokasi saat ini. Untuk mencapai tujuan tersebut, kami menggunakan metode Analytic Hierarchy Process (AHP).

Metode AHP meminta Bapak/Ibu/Saudara/i untuk melakukan perbandingan berpasangan antar dimensi CDL, sehingga dapat menilai tingkat kepentingan dari masing-masing dimensi berdasarkan pertimbangan profesional, pengalaman, dan pemahaman Bapak/Ibu/Saudara/i. </p>

<p>Estimasi waktu pengisian angket ini kurang lebih 10-15 menit. Semua jawaban akan dijaga kerahasiaannya dan hanya akan digunakan untuk kepentingan penelitian. <br> Partisipasi Bapak/Ibu/Saudara/i sangat penting bagi keberhasilan penelitian kami. <br> Kami mengucapkan terima kasih atas waktu dan partisipasi Bapak/Ibu/Saudara/i.</p>

<table border="1" cellpadding="8" cellspacing="0">
  <tr><th>Nilai</th><th>Definisi</th></tr>
  <tr><td align="center">1</td><td>Sama pentingnya</td></tr>
  <tr><td align="center">3</td><td>Sedikit lebih penting</td></tr>
  <tr><td align="center">5</td><td>Lebih penting</td></tr>
  <tr><td align="center">7</td><td>Sangat lebih penting</td></tr>
  <tr><td align="center">9</td><td>Mutlak lebih penting</td></tr>
</table>

<h2>8 Dimensi Critical Digital Literacy (CDL) yang akan Dinilai</h2>
<table border="1" cellpadding="8" cellspacing="0" style="width:95%;">
  <thead>
    <tr>
      <th>No</th>
      <th>Dimensi</th>
      <th>Deskripsi Singkat</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1</td>
      <td>Technology Use</td>
      <td>Penggunaan teknologi merupakan dasar dari literasi digital kritis. Dimensi ini mencakup kemampuan untuk menggunakan teknologi digital secara efektif dalam kehidupan sehari-hari, pendidikan, dan pekerjaan. Dimensi ini terdiri dari tiga subdimensi: keterampilan teknis kritis, pemikiran komputasional, dan kemampuan mengenali risiko serta memecahkan masalah terkait teknologi.</td>
    </tr>
    <tr>
      <td>2</td>
      <td>Data Literacies</td>
      <td>Literasi data adalah kemampuan untuk memahami, menganalisis, dan menggunakan data secara kritis. Literasi data tidak hanya mencakup teknik pengolahan data, tetapi juga kemampuan menafsirkan data dalam konteks sosial dan budaya, serta memahami implikasi penggunaan data pribadi dan publik. Subdimensi yang termasuk di dalamnya adalah analisis data, perlindungan dan keamanan data, penggunaan data besar dan terbuka, serta visualisasi data.</td>
    </tr>
    <tr>
      <td>3</td>
      <td>Information Literacies</td>
      <td>Dimensi literasi informasi menjadi penting karena informasi menjadi topik krusial di era internet dan media sosial, termasuk menghadapi berita palsu dan Overload information. Literasi informasi mencakup kemampuan menemukan dan mengevaluasi informasi, berpikir kritis tentang cara informasi diciptakan, serta memahami bagaimana informasi dapat digunakan untuk menghasilkan pengetahuan baru. Subdimensi yang termasuk dalam literasi informasi adalah pemahaman membaca online, proses penyelidikan online, validasi dan verifikasi sumber, serta penggunaan media digital.</td>
    </tr>
    <tr>
      <td>4</td>
      <td>Digital Content Creation</td>
      <td>Digital conten creation merupakan kemampuan praktik dalam menciptakan konten menggunakan komputer atau perangkat digital, baik secara individu maupun kolaboratif. Kegiatan ini bisa berupa pembuatan laporan, video, gambar, atau materi digital lainnya. Dalam konteks literasi digital kritis, penciptaan konten menekankan keterampilan yang lebih kompleks atau yang memerlukan sikap kritis, seperti ekspresi digital kreatif, ko-kreasi, produksi multimoda, penerbitan digital, dan remixing.</td>
    </tr>
    <tr>
      <td>5</td>
      <td>Online Collaboration</td>
      <td>Kemampuan bekerja sama secara efektif dengan orang lain melalui platform digital.</td>
    </tr>
    <tr>
      <td>6</td>
      <td>Digital Communication</td>
      <td>Kemampuan menyampaikan pesan secara jelas dan etis melalui media digital.</td>
    </tr>
    <tr>
      <td>7</td>
      <td>Cybersecurity & Privacy</td>
      <td>Kemampuan mengenali risiko keamanan digital dan melindungi privasi diri sendiri maupun orang lain.</td>
    </tr>
    <tr>
      <td>8</td>
      <td>Critical Thinking & Problem Solving</td>
      <td>Kemampuan berpikir kritis dan menyelesaikan masalah yang muncul dalam konteks digital.</td>
    </tr>
  </tbody>
</table>


<ul>
  <li><b>Technology Use</b>: .</li>
  <li><b>Data Literacies</b>: </li>
  <li><b>Information Literacies</b>: </li>
  <li><b>Digital Content Creation</b>: </li>
</ul>



<hr>
<h2>Identitas Responden</h2>
<label>Nama / Inisial:</label>
<input type="text" id="nama"><br><br>

<label>Jenis Kelamin:</label>
<label><input type="radio" name="jenisKelamin" value="Laki-laki"> Laki-laki</label>
<label><input type="radio" name="jenisKelamin" value="Perempuan"> Perempuan</label>
<br>

<label>Status Responden:</label>
<input type="radio" name="status" value="Dosen"> Dosen
<input type="radio" name="status" value="Guru"> Guru
<input type="radio" name="status" value="Mahasiswa"> Mahasiswa
<br><br>

<label>Bidang Keahlian:</label>
<input type="text" id="BidangKeahlian"><br><br>

<div id="pengalamanBox" style="display:none;">
  <label>Pengalaman Mengajar:</label>
  <input type="text" id="pengalaman" placeholder="contoh: 5 tahun"><br><br>
</div>

<label>Institusi:</label>
<input type="text" id="institusi"><br><br>
<hr>



<h2>Bagian A â€“ Perbandingan Dimensi</h2>
<div class="petunjuk"> Petunjuk pengisian angket belum terisi
</div>
<p id="progress" style="font-weight:bold;">Soal 1 / 6</p>

<form id="formDimensi">
  <p id="pertanyaanDimensi" style="font-weight:bold; font-size:18px;"></p>
  
<label id="labelDimensiA" class="radio-label">
  <input type="radio" name="pilihDimensi" value="A"><span></span>
</label>

<label id="labelDimensiB" class="radio-label">
  <input type="radio" name="pilihDimensi" value="B"><span></span>
</label>
 
  <label>Bobot Kepentingan:</label>
  <select id="bobotDimensi" style="width:100%; font-size:16px; padding:6px;">
    <option value="">-- Pilih Bobot --</option>
    <option value="1">1 (Sama penting)</option>
    <option value="3">3 (Sedikit lebih penting)</option>
    <option value="5">5 (Lebih penting)</option>
    <option value="7">7 (Sangat lebih penting)</option>
    <option value="9">9 (Mutlak lebih penting)</option>
  </select>
</form>
<button id="btnLanjut" onclick="lanjutDimensi()" disabled style="width:100%; font-size:16px; padding:10px;">
Lanjut
</button>

<hr>

<div class="judul-bagian">B. Urutan Subdimensi Critical Digital Literacy</div>
<div class="petunjuk">
Pilih satu atau lebih subdimensi yang dianggap penting untuk dikuasai calon guru vokasi.
</div>

<form id="formSubdimensi">
  <div class="dimensi">
    <h4>Technology Use</h4>
    <div class="subdimensi">
      <label><input type="checkbox" name="subdimensi[]" value="Keterampilan teknis kritis"> Keterampilan teknis kritis</label>
      <label><input type="checkbox" name="subdimensi[]" value="Pemikiran Komputasional"> Pemikiran Komputasional</label>
      <label><input type="checkbox" name="subdimensi[]" value="Risiko & Pemecahan masalah teknologi"> Risiko & Pemecahan masalah teknologi</label>
    </div>
  </div>
  <div class="dimensi">
    <h4>Data Literacies</h4>
    <div class="subdimensi">
      <label><input type="checkbox" name="subdimensi[]" value="Analitik data"> Analitik data</label>
      <label><input type="checkbox" name="subdimensi[]" value="Perlindungan & Keamanan Data"> Perlindungan & Keamanan Data</label>
      <label><input type="checkbox" name="subdimensi[]" value="Big data & Open data"> Big data & Open data</label>
      <label><input type="checkbox" name="subdimensi[]" value="Visualisasi Data"> Visualisasi Data</label>
    </div>
  </div>
  <div class="dimensi">
    <h4>Information Literacies</h4>
    <div class="subdimensi">
      <label><input type="checkbox" name="subdimensi[]" value="Penggunaan Media Digital"> Penggunaan Media Digital</label>
      <label><input type="checkbox" name="subdimensi[]" value="Pemahaman membaca online"> Pemahaman membaca online</label>
      <label><input type="checkbox" name="subdimensi[]" value="Proses penyelidikan Online"> Proses penyelidikan Online</label>
      <label><input type="checkbox" name="subdimensi[]" value="Validasi & verifikasi sumber"> Validasi & verifikasi sumber</label>
    </div>
  </div>
  <div class="dimensi">
    <h4>Digital Content Creation</h4>
    <div class="subdimensi">
      <label><input type="checkbox" name="subdimensi[]" value="Ekspresi kreatif digital"> Ekspresi kreatif digital</label>
      <label><input type="checkbox" name="subdimensi[]" value="Ko-kreasi konten digital"> Ko-kreasi konten digital</label>
      <label><input type="checkbox" name="subdimensi[]" value="Produksi multimodal konten digital"> Produksi multimodal konten digital</label>
      <label><input type="checkbox" name="subdimensi[]" value="Publikasi Digital"> Publikasi Digital</label>
      <label><input type="checkbox" name="subdimensi[]" value="Remixing konten digital"> Remixing konten digital</label>
    </div>
  </div>

<p id="loadingMessage" style="display:none; font-weight:bold; color:green;">
  Menyimpan jawaban, mohon tunggu...
</p>

<button type="button" onclick="submitJawabanResponden()" id="btnSubmit">
  Simpan Jawaban
</button>
</form>

  <!-- button untuk download CSV ditambahkan oleh saya-->

  <button type="button" onclick="downloadCSV()">Download Semua Jawaban (CSV)*</button>
   <p> *Download csv hanya bisa dilakukan oleh admin </p>






<script>
const WEB_APP_URL = "https://script.google.com/macros/s/AKfycbwWJTUeQKWE5lEK__h4KLh6geujLp8kiIOFSnFprp7Cgb6DFGod_K26z7h_2G_eGFH7Qg/exec";
let semuaHasilResponden = [];
let pasanganDimensi = [
  ["Technology Use", "Data Literacies"],
  ["Technology Use", "Information Literacies"],
  ["Technology Use", "Digital Content Creation"],
  ["Data Literacies", "Information Literacies"],
  ["Data Literacies", "Digital Content Creation"],
  ["Information Literacies", "Digital Content Creation"]
];
let index = 0;

// Tampilkan pertanyaan Bagian A
function tampilDimensi() {
  const pertanyaanEl = document.getElementById("pertanyaanDimensi");
  const labelA = document.getElementById("labelDimensiA");
  const labelB = document.getElementById("labelDimensiB"); 
  
if(!pertanyaanEl || !labelA || !labelB) {
    console.warn("Elemen pertanyaan atau label belum tersedia");
    return;
  }

  document.getElementById("formDimensi").reset();
  
const pasangan = pasanganDimensi[index];
if(!pasangan) return;
  
pertanyaanEl.textContent = "Jika kedua dimensi di bawah ini dibandingkan, menurut Bapak/Ibu, dimensi mana yang paling penting dikuasai oleh calon guru vokasi saat ini?";
 

  labelA.querySelector("span").textContent = pasangan[0];
  labelB.querySelector("span").textContent = pasangan[1];
 
  document.getElementById("btnLanjut").disabled = true;
  document.getElementById("progress").textContent = `Pertanyaan ${index+1} dari ${pasanganDimensi.length}`;
}

document.addEventListener("DOMContentLoaded", function() {
  window.jawabanResponden = [];
  tampilDimensi();
});

// Lanjut Bagian A
// Aktifkan tombol lanjut
document.querySelectorAll('input[name="pilihDimensi"]').forEach(radio => radio.addEventListener("change", () => {
  document.getElementById("btnLanjut").disabled = !document.querySelector('input[name="pilihDimensi"]:checked') || !document.getElementById("bobotDimensi").value;
}));
document.getElementById("bobotDimensi").addEventListener("change", () => {
  document.getElementById("btnLanjut").disabled = !document.querySelector('input[name="pilihDimensi"]:checked') || !document.getElementById("bobotDimensi").value;
});

function cekTombolLanjut() {
  const radioChecked = document.querySelector('input[name="pilihDimensi"]:checked');
  const bobot = document.getElementById("bobotDimensi").value;
  document.getElementById("btnLanjut").disabled = !(radioChecked && bobot);
}

function lanjutDimensi() {
  const pilihan = document.querySelector('input[name="pilihDimensi"]:checked');
  const bobot = document.getElementById("bobotDimensi").value;
  if(!pilihan || !bobot) { alert("Pilih dimensi dan bobot!"); return; }

  const pasangan = pasanganDimensi[index];
  window.jawabanResponden.push({dimensiA: pasangan[0], dimensiB: pasangan[1], pilihan: pilihan.value, bobot: bobot});

  index++;
  if(index < pasanganDimensi.length) { 
    tampilDimensi(); 
  } else { 
    alert("Bagian A selesai. Silakan lanjut ke Bagian B."); 
  }
}


// Pasang event listener sekali saat DOM siap
document.addEventListener("DOMContentLoaded", function() {
  tampilDimensi();
  
  // Radio
  document.querySelectorAll('input[name="pilihDimensi"]').forEach(radio => {
    radio.addEventListener("change", cekTombolLanjut);
  });

  // Bobot select
  document.getElementById("bobotDimensi").addEventListener("change", cekTombolLanjut);
});

// Panggil setelah DOM siap
document.addEventListener("DOMContentLoaded", function() {
  // event listener radio dan select
  document.querySelectorAll('input[name="pilihDimensi"]').forEach(radio => radio.addEventListener("change", cekTombolLanjut));
  document.getElementById("bobotDimensi").addEventListener("change", cekTombolLanjut);

  // tampilkan pertanyaan pertama
  tampilDimensi();
});

// Submit Jawaban Responden
function submitJawabanResponden() {

  const btn = document.getElementById("btnSubmit");
  const loading = document.getElementById("loadingMessage");
  const nama = document.getElementById("nama").value.trim();
  const jenisKelamin = document.querySelector('input[name="jenisKelamin"]:checked')?.value;
  const status = document.querySelector('input[name="status"]:checked')?.value;
  const pengalaman = document.getElementById("pengalaman")?.value || "";
  const institusi = document.getElementById("institusi").value;
  const bidangKeahlian = document.getElementById("BidangKeahlian").value;

  if (!nama || !jenisKelamin || !status) {
    alert("Identitas responden belum lengkap");
    return;
  }

  if ((status === "Dosen" || status === "Guru") && !pengalaman) {
    alert("Pengalaman mengajar wajib diisi");
    return;
  }

  if (!window.jawabanResponden || window.jawabanResponden.length < pasanganDimensi.length) {
    alert("Bagian A belum selesai");
    return;
  }

  let subdimensi = {};
  document.querySelectorAll(".dimensi").forEach(dim => {
    const namaDim = dim.querySelector("h4").innerText;
    const cek = dim.querySelectorAll("input[type=checkbox]:checked");
    subdimensi[namaDim] = Array.from(cek).map(c => c.value);
  });

  if (Object.values(subdimensi).flat().length === 0) {
    alert("Pilih minimal satu subdimensi");
    return;
  }

  const data = {
    timestamp: new Date().toLocaleString(),
    nama,
    jenisKelamin,
    status,
    pengalaman,
    institusi,
    bidangKeahlian,
    dimensiAHP: window.jawabanResponden,
    subdimensi
  };

  // ðŸ”¹ Tampilkan loading & disable tombol
  btn.disabled = true;
  btn.innerText = "Menyimpan...";
  loading.style.display = "block";

  fetch(WEB_APP_URL, {
    method: "POST",
    body: JSON.stringify(data)
  })
  .then(res => res.json())
  .then(res => {
    if (res.status === "success") {
      alert("Jawaban berhasil disimpan. Terima kasih ðŸ™");
      resetSemuaForm(); // Form akan langsung kosong
    } else {
      alert("ERROR SERVER: " + res.message);
    }
  })
  .catch(err => {
    alert("Gagal koneksi ke server");
    console.error(err);
  })
  .finally(() => {
    btn.disabled = false;
    btn.innerText = "Simpan Jawaban";
    loading.style.display = "none";  // ðŸ”¹ sembunyikan loading
  });
}

document.addEventListener("DOMContentLoaded", function() {
  window.jawabanResponden = [];
  tampilDimensi();
});

document.addEventListener("DOMContentLoaded", function() {
  // Pastikan pengalaman mengajar tersembunyi saat load
  document.getElementById("pengalamanBox").style.display = "none";

  // Semua radio status
  document.querySelectorAll('input[name="status"]').forEach(radio => {
    radio.addEventListener("change", function() {
      const status = document.querySelector('input[name="status"]:checked')?.value || "";
      // Munculkan hanya jika Dosen atau Guru
      if(status === "Dosen" || status === "Guru") {
        document.getElementById("pengalamanBox").style.display = "block";
      } else {
        document.getElementById("pengalamanBox").style.display = "none";
        // Kosongkan value pengalaman jika beralih ke Mahasiswa
        document.getElementById("pengalaman").value = "";
      }
    });
  });
});


// reseter disini semua

function resetSemuaForm() {
  // Reset input teks
  document.querySelectorAll('input[type="text"]').forEach(input => {
    input.value = "";
  });

  // Reset radio button
  document.querySelectorAll('input[type="radio"]').forEach(radio => {
    radio.checked = false;
  });

  // Reset checkbox
  document.querySelectorAll('input[type="checkbox"]').forEach(cb => {
    cb.checked = false;
  });

  // Reset select
  document.querySelectorAll('select').forEach(select => {
    select.selectedIndex = 0;
  });

  // Sembunyikan pengalaman mengajar
  document.getElementById("pengalamanBox").style.display = "none";

  // Reset data AHP
  window.jawabanResponden = [];
  index = 0;

  // Tampilkan ulang pertanyaan pertama
  tampilDimensi();
}


</script>


</body>
</html>
